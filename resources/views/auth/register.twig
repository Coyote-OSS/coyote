{% extends 'layout' %}
{% block title %}Rejestracja{{ parent() }}{% endblock %}

{% import 'components.forms' as forms %}

{% block container %}
  <div class="row mt-4">
    <div class="col-10 mx-auto">
      <div class="row">
        <div id="box-register" class="col-sm-7">

          <div class="row">
            <div class="col-10">
              {% include 'auth.oauth' %}

              {# ten kod jest tutaj na potrzeby pluginu socialize. przekazuje on w GET komunikat bledu #}
              {# niestety z jakiegos powodu nie mozna tego komunikatu przekazac w sesji #}
              {% if request().has('error') %}
                <div class="alert alert-danger">
                  {{ request().get('error') }}
                </div>
              {% endif %}

              {{ form_start(form) }}
              {{ form_row(form.name) }}
              {{ form_row(form.password) }}
              {{ form_row(form.password_confirmation) }}
              {{ form_row(form.email) }}
              {{ form_row(form.email_confirmation) }}
              {{ form_row(form.terms, {
                label: '<small>Akceptuję <a href="/Regulamin">regulamin</a> oraz <a href="/Polityka_prywatności">politykę prywatności</a>.</small><b>*</b>'
              }) }}
              {{ form_row(form.marketing, {
                label: '<small>Wyrażam zgodę na otrzymywanie, na podany przeze mnie adres e-mail, informacji handlowych kierowanych '~
                'do mnie przez 4programmers.net (tj. Makana sp. z o.o., z siedzibą przy ul. Krupniczej 13, 50-075 Wrocław). Informacje '~
                'handlowe dotyczyć będą produktów, usług i działalności realizowanej przez 4programmers.net i jej kontrahentów. Rozumiem, '~
                'że zgodę mogę wycofać w dowolnym momencie, jednak nie będzie to miało wpływu na przetwarzanie, którego dokonano przed jej '~
                'wycofaniem. Przedmiotowa zgoda może zostać wycofana poprzez odznaczenie jej w ustawieniach mojego konta albo poprzez '~
                'wysłanie stosownej wiadomości na adres e-mail: gdpr@4programmers.net lub adres siedziby 4programmers.net.</small>'
              }) }}

              <div class="form-group">
                <small class="form-text text-muted">
                  Administratorem danych osobowych podanych w formularzu rejestracyjnym jest Makana sp. z o.o. z siedzibą 
                  przy ul.&nbsp;Krupniczej&nbsp;13 we Wrocławiu (50-075). Twoje dane osobowe będą przetwarzane w celu utworzenia 
                  i dalszego utrzymywania konta w serwisie 4programmers.net, w szczególności w celu umożliwienia korzystania
                  z usługi zgodnie z <a href="/Regulamin">Regulaminem</a>. W przypadku wyrażenia zgody na otrzymywanie 
                  informacji handlowych będziemy przetwarzać Twoje dane osobowe w celach marketingowych tj., w celu kierowania 
                  na podany przez Ciebie adres e-mail informacji handlowych w zakresie objętym wyrażoną zgodą. Wycofanie zgody 
                  na otrzymywanie informacji handlowych jest możliwe w dowolnym momencie, co nie wpływa na zgodność przetwarzania 
                  danych zrealizowanego przed jej wycofaniem. Więcej informacji o przetwarzaniu danych osobowych oraz Twoich 
                  prawach z tym związanych znajdziesz w naszej <a href="/Polityka_prywatności">Polityce Prywatności</a>.
                </small>
              </div>

              {{ form_row(form.submit) }}

              {{ form_end(form) }}
            </div>
          </div>
        </div>

        <div id="box-register-sidebar" class="col-sm-5 d-sm-none d-md-block p-5 border-left">
          <blockquote>Rejestracja zajmuje tylko kilka sekund i jest darmowa. Pozwoli Ci to aktywnie korzystać z naszego serwisu</blockquote>

          <h2>Korzyści wynikające z rejestracji konta</h2>

          <ul class="list-unstyled">
            <li>Możliwość edycji oraz pisania artykułów</li>
            <li>Obserwowanie wątków na forum</li>
            <li>Śledzenie zmian w artykułach czy komentarzach</li>
            <li>System szeregu powiadomień o aktywności na stronie</li>
            <li>Pisanie własnego mikrobloga</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
{% endblock %}

{% block head %}
  {{ parent() }}

  <script src="https://www.google.com/recaptcha/api.js" async defer></script>

  <script type="text/javascript">
      function onSubmit() {
          document.getElementById("js-register-form").submit();
      }
  </script>
{% endblock %}
